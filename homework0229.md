## var 키워드로 선언한 변수의 문제점

## 변수 중복 선언 허용
동일한 스코프 내에서 var 키워드를 사용해 변수 이름을 중복 지정하면
에러가 나지 않고 의도치 않게 값이 변경되어 부작용이 발생한다.


## 변수 호이스팅
var 키워드로 선언한 변수는 변수 선언문 이전에 참조할 수 있지만, 할당되기 전에 변수를 참조하면 undefined를 반환한다.

변수 선언문 이후 변수를 참조하자.


## let 키워드
## 변수 중복 선언 금지
동일한 스코프 내에서 let 키워드에 같은 변수 이름을 중뵥 사용하면 SyntaxError(문법 에러)가 발생한다.

`let bar = 123;`
`let bar = 456;  //  SyntaxError`


## 블록 레벨 스코프
Block-level scope: let 키워드로 선언한 변수는 
모든 코드 블록 내에서 지역 스코프로 인정한다.

함수 내 코드 블록은 함수 레벨 스코프에 중첩된다.


## 변수 호이스팅 
변수 선언 전에 let 키워드로 선언한 변수를 참조하면 
참조 에러(ReferenceError)가 뜬다.

var 키워드로 선언한 변수는 선언 단계와 초기화 단계가 동시에 이루어지지만

`let 키워드로 선언한 변수는 선언 단계와 초기화 단계가 분리되어 이루어진다.`

// 런타임 이전에 선언 단계 실행
`// 변수가 초기화 되지 않아 변수 선언문 이전에는 변수를 참조할 수 없다.`
console.log(foo);  //  ReferenceError

let foo;  //  `변수 선언문에서 초기화 단계가 실행된다.`
console.log(foo);  // undefined

foo = 1;  // `할당문에서 할당 단계가 실행된다.`
console.log(foo);  //  1

일시적 사각지대 (Temporal Dead Zon; TDZ) : 스코프의 시작 지점부터
초기화 시작 지점까지의 구간.

`자바스크립트는 모든 선언을 호이스팅한다. `
`var, let, const, function, funsction*, class 등`

let, const, class를 사용한 선언문은 
호이스팅이 발생하지 않는 것처럼 동작한다.


## 전역 객체와 let
전역 객체는 자바스크립트에서 가장 먼저 생성되고 어디에도 속하지 않는
최상위 객체다.

전역 객체는 클라이언트 사이드 환경(브라우저) - window 객체
서버 사이드 환경(Node.js) - global 객체를 가리킨다.

var 키워드로 선언한 전역변수, 
선언하지 않은 변수,
변수에 값을 할당한 암묵적 전역,
암묵적 전역 변수는
전역 객체의 프로퍼티가 된다.

전역 객체의 프로퍼티를 참조할 때 window를 생략할 수 있다.

`let, const 키워드로 선언한 전역 변수는 window의 프로퍼티가 아니다.`


## const 키워드
const 키워드는 상수(constant)를 선언할 때 사용하지만 
반드시 상수만을 위해 사용하지는 않는다.

## 선언과 초기화
const 키워드로 선언한 변수는 반드시 선언과 동시에 할당이 이루어져야 한다.
const 키워드로 선언한 변수도 블록 레벨 스코프를 가지고
변수 호이스팅이 발생하지 않는 것처럼 동작한다.

const foo = 1;

`const foo;  //  ReferenceError`


## 재할당 금지
`const 키워드로 선언한 변수는 재할당이 금지된다.`

(var, let 키워드로 선언한 변수는 재할당이 자유롭다.)


## 상수
`const 키워드에 원시값을 할당하면 변수값을 변경 불가능.`

상수는 변수의 하나이므로, 메모리 공간을 필요로 하지만, 
재할당이 금지된다. 그래서 가독성, 유지보수가 편리하다.

// const 키워드 변수에 대문자와 _를 사용해서 상수임을 명확히 한다.
const TAX_RATE = 0.1;

let preTaxPrice = 100;

let afterTaxPrice = preTaxPrice + (preTaxPrice * TAX_RATE)

console.log(afterTaxPrice);  //  110


## const 키워드와 객체
const 키워드로 선언된 변수의 원시값은 변경할 수 없지만
const 키워드로 선언된 변수의 객체 값은 변경할 수 있다.

const 키워드로 선언한 변수의 원시값은 재할당해야 원시값을 변경할 수 있다.
const 키워드로 선언한 변수의 객체 값은 재할당 없이도 직접 변경이 가능하다.

const 키워드는 재할당을 금지하지만 불변하지 않는다는 것은 아니다.
값의 재햘당은 불가능하지만 객체 내용(프로퍼티 추가, 프로퍼티 값 변경)을
변경하는 것은 가능하다.
`객체의 내용이 변경되더라도 변수에 할당한 참조값은 변경되지 않는다.`


## var, let, const 무엇을 어떻게 쓸까.
ES6를 사용할 때는 var 키워드 쓰지 말자.
재할당 필요할 때만 let 키워드 쓰되, 변수 스코프를 최대한 좁게 만들자.
`재할당 필요 없는 원시값과 객체에 const 키워드를 사용하자.`

만약 재할당이 필요하게 되면 그때 가서 const 키워드를 let 키워드로 변경하면 된다.

